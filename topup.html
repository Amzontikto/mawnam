<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Topup</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    /* ‡∏õ‡∏∏‡πà‡∏° Topup */
    .topup-btn {
      padding: 10px 20px;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }

    .topup-btn:hover {
      background-color: #218838;
    }

    /* Modal ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }

    /* ‡∏Å‡∏•‡πà‡∏≠‡∏á Modal */
    .modal-content {
      background-color: white;
      padding: 30px;
      border-radius: 15px;
      width: 300px;
      text-align: center;
      position: relative;
    }

    /* ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î */
    .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 20px;
      cursor: pointer;
      color: #aaa;
    }

    .close-btn:hover {
      color: #000;
    }

    input[type="number"] {
      width: 80%;
      padding: 8px;
      margin: 15px 0;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    button.generate-btn {
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button.generate-btn:hover {
      background-color: #0056b3;
    }

    /* QR Box */
    #qrBox {
      display: none;
      margin-top: 20px;
    }

    #qrBox img {
      width: 200px;
      height: 200px;
    }

    #qrText {
      margin-top: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <button class="topup-btn" onclick="openTopup()">‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô (Topup)</button>

  <!-- Modal -->
  <div id="topupModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeTopup()">&times;</span>
      <h2>‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô</h2>
      <input type="number" id="amount" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô (‡∏ö‡∏≤‡∏ó)" min="1">
      <br>
      <button class="generate-btn" onclick="generateQR()">‡∏™‡∏£‡πâ‡∏≤‡∏á QR</button>

      <div id="qrBox">
        <img id="qrImage" src="" alt="QR Code">
        <div id="qrText"></div>
      </div>
    </div>
  </div>

  <script>
    function openTopup() {
      document.getElementById("topupModal").style.display = "flex";
    }

    function closeTopup() {
      document.getElementById("topupModal").style.display = "none";
      document.getElementById("qrBox").style.display = "none";
      document.getElementById("amount").value = "";
    }

    function generateQR() {
      let amount = document.getElementById("amount").value;
      if(amount <= 0 || amount === "") {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
        return;
      }

      // ‡πÉ‡∏™‡πà‡πÄ‡∏ö‡∏≠‡∏£‡πå PromptPay ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
      let phone = "0647012465";  
      let qrUrl = `https://promptpay.io/${phone}/${amount}`;

      document.getElementById("qrImage").src = qrUrl;
      document.getElementById("qrText").innerText = `‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô ${amount} ‡∏ö‡∏≤‡∏ó`;
      document.getElementById("qrBox").style.display = "block";
    }
  </script>

</body>
<!-- ‚úÖ Music Background -->
<audio id="bgMusic" autoplay loop>
  <source src="music.mp3" type="audio/mpeg">
  ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á
</audio>
<!-- ‚úÖ Control UI -->
<div style="position: fixed; bottom: 20px; right: 20px; background: rgba(0,0,0,0.7); padding: 10px; border-radius: 10px; z-index: 9999; color:white;">
  <button onclick="changeVolume(-0.1)">üîâ ‡πÄ‡∏ö‡∏≤</button>
  <button onclick="changeVolume(0.1)">üîä ‡∏î‡∏±‡∏á</button>
  <button onclick="toggleMute()">‚èØÔ∏è ‡∏õ‡∏¥‡∏î/‡πÄ‡∏õ‡∏¥‡∏î</button>
</div>
<script>
  const bgMusic = document.getElementById("bgMusic");
  bgMusic.volume = 0.5; // ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á
  function changeVolume(change) {
    let newVolume = Math.min(1, Math.max(0, bgMusic.volume + change));
    bgMusic.volume = newVolume;
  }
  function toggleMute() {
    bgMusic.muted = !bgMusic.muted;
  }
</script>
</html>